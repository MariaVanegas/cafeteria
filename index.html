
<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
  </head>
  <body>
  </body>
  <script>
    const lang = "es";
    const options = {typewriterSpeed: 20, defaultCSS: false};
  </script>
  <style>
    
  #storygeneraldiv {
    box-sizing: border-box;
    margin: auto;
    max-width: 600px;
    font-family: 'Courier New', Courier, monospace;
    background: white;
  }
  
  .storydiv {
    border: solid black 1px;
    width: 100%;
    display: flex;
    padding: 10px;
    flex-direction: column;
    box-sizing: border-box;
  }
  
  .storyp {
    font-size: 18px;
    min-height: 25px;
  }
  
  .storybutton-container {
    margin: auto;
  }
  
  .storybutton {
    background: white;
    box-shadow: none;
    border: solid 1px;
    margin: 0px 1em 0px 0px;
    font-size: 20px;
    font-family: 'Courier New', Courier, monospace;
    cursor: pointer;
  }
  
  .storybutton:hover {
    color: white;
    background: black;
  }
  
  .storyimage-container {
    box-sizing: content-box;
    position: relative;
    width: 100%;
    margin: auto;
  }
  
  .storyimage {
    justify-content: center;
    width: 100%;
    margin: auto;
    border-radius: 20px;
    display: block;
  }
  
  .storyimage-area {
    font-size: 14px;
    position: absolute;
    cursor: pointer;
    text-align: center;
    color: black;
    background: #ffffff00;
    border: solid 1px black;
  }
  
  .storyimage-area:hover {
    background: #ffffff33;
  }
  
  @media screen and (max-device-width: 500px) {
    #storygeneraldiv {
      max-width:100%;
    }
    .storyp {
      font-size: 7vw;
    }
    .storybutton {
      font-size: 10vw;
    }
  }
  
  </style>
  <script>
    const A = class In{constructor(e="en",t){this.lang=e==="en"||e==="es"?e:"en",this.options={typewriterSpeed:50,defaultCSS:!0,adventureContainer:void 0,adventureScroll:!1,igramaFormat:"png",minigifOptions:{},sceneCallback:n=>n},t&&(this.options=Object.assign(this.options,t)),this.grammarError=!1,this.scenesError=!1,this.fijarGramatica=this.setGrammar,this.expandirGramatica=this.expandGrammar,this.probarGramatica=this.testGrammar,this.fijarEscenas=this.setScenes,this.iniciarAventura=this.startAdventure,this.probarEscenas=this.testScenes,this.cargarJSON=this.loadJSON,this.modeloMarkov=this.getMarkovModel,this.fijarMarkov=this.setMarkov,this.cadenaMarkov=this.markovChain,this.probarDistribucion=this.testDistribution,this.markovSeparator=/[^\S\r\n]+/i,this.fijarIgrama=this.setIgrama,this.expandirIgrama=this.expandIgrama,this.mostrarIgrama=this.showIgrama,this.textoIgrama=this.getIgramaText,this.imgsMemo={},this.storyPreload={}}setGrammar(e){return this.grammar=e,this}setIgrama(e){this.igrama=e;for(let[t,n]of Object.entries(e.grammar));return this}setScenes(e){this.scenes=e;for(let t of Object.keys(e)){this.scenes[t].key=t;const n=this.scenes[t].image||this.scenes[t].imagen;n!==void 0&&this.storyPreload[n]===void 0&&(this.storyPreload[n]=new Image,this.storyPreload[n].src=n,this.storyPreload[n].className="storyimage")}return this}setMarkov(e){return this.markov=e,this}expandGrammar(e){const t=this.selectGrammarRule(this.grammar[e]);return this.grammarRuleRecursion(t)}expandIgrama(e){const t=this.igrama.grammar,n=this.selectGrammarRule(t[e]);return this.grammarRuleRecursion(n,t).split("|").map(o=>this.decodeDrawing(o))}grammarRuleRecursion(e,t){let n=t||this.grammar,l=this.setNewRules(e);const o=l.match(/<[\w\d.,/#]+>/gi);if(!o)return l;for(let s of o){const i=this.defineTransformations(s);l=l.replace(s,()=>{s=s.replace(/[<>]/gi,""),s=s.replace(/#[\w\d.,/]+#/g,"");const a=s.search(/[.]/)>-1?this.getNestedObject(n,s.match(/[\w\d]+/g)):n[s];if(!a){const u=this.lang==="es"?`Se intent\xF3 expandir desde la regla "${s}", pero no se pudo encontrar`:`Tried to expand from rule "${s}", but couldn't find it`;console.error(u)}const c=this.selectGrammarRule(a);return this.transformString(c,i)})}return this.grammarRuleRecursion(l,n)}setNewRules(e,t){let n;t===void 0?n=this.grammar:n=t;let l=e;const o=l.match(/\$[\w\d]+\$\[[\w\d:,-]+\]/ig);if(o)for(;o.length;){const s=o.pop();l=l.replace(s,"");const{symbol:i,pairsString:a}=/\$(?<symbol>[\w\d]+)\$\[(?<pairsString>[\w\d:,-]+)\]/i.exec(s).groups,c=a.match(/[-]?[\w\d]+:[\w\d]+/gi).map(u=>/(?<remove>[-]?)(?<key>[\w\d]+)[ ]?:[ ]?(?<value>[\w\d]+)/gi.exec(u).groups);if(c){n[i]=n[i]||{};for(let u of c){const f=n[u.value];if(!f){const m=this.lang==="es"?`Se intent\xF3 crear la nueva regla "${i}", pero no se pudo encontrar "${u.value}" para producir la subregla "${u.key}"`:`Tried to create new rule: "${i}", but couldn't find "${u.value}" to produce "${u.key}" subrule`;console.error(m)}const d=u.remove==="-",p=this.selectGrammarRule(f);if(d){const m=f.indexOf(p);n[u.value]=[...f.slice(0,m),...f.slice(m+1)]}n[i][u.key]=[p]}}}return l}startAdventure(e){this.options.defaultCSS&&this.setCSS();const t=document.createElement("div");return t.id="storygeneraldiv",(this.options.adventureContainer!==void 0?document.getElementById(this.options.adventureContainer):document.body).appendChild(t),this.goToScene(this.scenes[e]),this}goToScene(e){const t=document.getElementById("storygeneraldiv");(!this.options.adventureScroll||e.plop===!0)&&[...document.getElementsByClassName("storydiv")].map(a=>a.remove()),[...document.getElementsByClassName("storyimage-area")].map(i=>i.remove());const l=document.createElement("div");if(l.className="storydiv",t.appendChild(l),e.image||e.imagen){const i=document.createElement("div");i.className="storyimage-container",l.appendChild(i);const a=e.image||e.imagen,c=this.options.adventureScroll?this.storyPreload[a].cloneNode():this.storyPreload[a];i.appendChild(c),e.areas&&(c.complete?this.setAreas(c,i,e.areas):c.onload=()=>{this.setAreas(c,i,e.areas)})}else if(e.igrama!==void 0){const i=document.createElement("div");i.className="storyimage-container",l.appendChild(i);const a=this.expandIgrama(e.igrama);e.igramaText=this.getIgramaText(a),this.igramaDataUrl(a,this.options.igramaFormat).then(c=>{const u=new Image;u.src=c,u.className="storyimage",i.appendChild(u)})}const o=document.createElement("div");o.className="storyp-container",(e.text||e.texto||e.igramaText)&&l.appendChild(o);const s=document.createElement("p");s.className="storyp",s.innerHTML="",o.appendChild(s),document.getElementById("storygeneraldiv").scrollIntoView({behavior:"smooth",block:"end"}),this.typewriter(s,e),this.options.sceneCallback(e)}setAreas(e,t,n){const l=e.getBoundingClientRect(),o=t.getBoundingClientRect();window.onresize=()=>{document.getElementsByClassName("storyimage-area").length>0&&this.setAreas(e,t,n)},[...document.getElementsByClassName("storyimage-area")].map(i=>i.remove());for(let i of n){let a=document.createElement("div");a.className="storyimage-area";const c=(i.x-Math.floor(i.w/2))*l.width/e.naturalWidth;a.style.left=`${l.left-o.left+c}px`;const u=(i.y-Math.floor(i.h/2))*l.height/e.naturalHeight;a.style.top=`${l.top-o.top+u}px`,a.style.width=`${i.w*l.width/e.naturalWidth}px`,a.style.height=`${i.h*l.height/e.naturalHeight}px`,a.innerHTML=i.btn||"",t.appendChild(a),a.style.fontSize=`${18*l.height/e.naturalHeight}px`,a.onclick=()=>{const f=i.scene||i.escena;this.goToScene(this.scenes[f])},i.tooltip!==void 0&&(a.onmouseover=()=>{a.innerHTML=i.tooltip||"",a.style.zIndex="100"},a.onmouseout=()=>{a.innerHTML=i.btn||"",a.style.zIndex="0"})}}typewriter(e,t){const n=t.text||t.texto||t.igramaText||"";let l=this.grammar?this.grammarRuleRecursion(n):n;if(l=l.replace(/\n/g,"<br>"),this.options.typewriterSpeed>0){let o=0;const s=setInterval(()=>{const i=l.substring(0,o);e.innerHTML=i,o++,o>l.length&&(clearInterval(s),this.optionButtons(t))},Math.floor(this.options.typewriterSpeed))}else e.innerHTML=l,this.optionButtons(t)}optionButtons(e){const t=[...document.getElementsByClassName("storydiv")],n=t[t.length-1];[...document.getElementsByClassName("storybutton-container")].map(s=>s.remove());const o=document.createElement("div");if(o.className="storybutton-container",n.appendChild(o),e.options||e.opciones){const s=e.options||e.opciones;for(let i of s){const a=document.createElement("button");a.className="storybutton",a.innerHTML=i.btn,o.appendChild(a),a.addEventListener("click",()=>{if((i.text||i.texto)===void 0){const u=i.scene||i.escena;this.goToScene(this.scenes[u])}else this.goToScene(i)})}}else if(e.scene||e.escena){const s=e.scene||e.escena,i=document.createElement("button");i.className="storybutton",i.innerHTML=this.lang==="en"?"Continue":"Continuar",o.appendChild(i),i.addEventListener("click",()=>{this.goToScene(this.scenes[s])})}document.getElementById("storygeneraldiv").scrollIntoView({behavior:"smooth",block:"end"})}selectGrammarRule(e){if(e.length===0)return"";if(e.prob){const l=Math.random()*e.prob.reduce((s,i)=>s+i);let o=0;for(let s=0;s<e.prob.length;s++){if(o<=l&&l<o+e.prob[s])return e[s];o+=e.prob[s]}}const t=Math.floor(Math.random()*e.length);return e[t]}getNestedObject(e,t){return t.reduce((n,l)=>n&&n[l]!==void 0?n[l]:void 0,e)}defineTransformations(e){let t={};const n=/#(?<trans>[\w\d,]+)#/gi.exec(e),l=n?n.groups.trans.match(/[\w]+/gi):[];for(let o of l)t[o]=!0;return t}transformString(e,t){let n=e;return t.CAPITALIZE&&(n=n.charAt(0).toUpperCase()+n.slice(1)),t.ALLCAPS&&(n=n.toUpperCase()),n}decodeDrawing(e){if(e==="")return[];const[t,n,l]=e.split("%%");let o={};return t==="vector"?o.content=n.split("**").map(s=>{const[i,a,c]=s.split("&"),u=[];if(u.color=i,u.weight=a,c===void 0)return u;const f=c.split(",");for(let d=0;d<f.length;d+=2)u.push([+f[d],+f[d+1]]);return u}):o.content=n,o.attribute=l,o.type=t,o}async getMarkovModel(e,t=1,n=!1){let l=await(await fetch(`./${e}`)).text();l=l.replace(/([,:.;])/g," $1").replace(/[()\¿¡!?”“—-]/g,"").toLowerCase();const o=l.split(this.markovSeparator),s={};for(let a=0;a<o.length-t;a++){let c="";for(let f=0;f<t;f++)c+=f===0?o[a+f]:" "+o[a+f];s[c]===void 0&&(s[c]={});const u=o[a+t];s[c][u]===void 0?s[c][u]=1:s[c][u]++}const i={};for(let a of Object.keys(s)){const c=Object.keys(s[a]);i[a]={probs:[],grams:c};let u=0;for(let f=0;f<c.length;f++)u+=s[a][c[f]];for(let f=0;f<c.length;f++)i[a].probs[f]=s[a][c[f]]/u}if(n){const a=e.split("/");this.saveJSON(i,`${a[a.length-1]}_markovModel_${t}N.json`)}return i}markovChain(e,t,n=.1){let l=t===void 0||this.markov[t]===void 0?this.randomMarkovWord():t,o=l;for(let i=0;i<e-1;i++){let a=this.getNextMarkov(this.markov[o]);a===void 0&&(a=this.getNextMarkov(this.randomMarkovWord()));let c=o.split(this.markovSeparator);c.push(a),c=c.slice(1).join(" "),o=c,l+=` ${a}`}return this.formatMarkov(l,n)}randomMarkovWord(){const e=Math.floor(Math.random()*Object.keys(this.markov).length);return Object.keys(this.markov)[e]}getNextMarkov(e){const t=Math.random();let n=0;if(e!==void 0)for(let l=0;l<e.probs.length;l++){if(n<=t&&t<n+e.probs[l])return e.grams[l];n+=e.probs[l]}}formatMarkov(e,t=.1){let n=e.replace(/ ([,:.;])/g,"$1");return n=n.replaceAll(/([.]) ([\wáéíóú])/ig,(l,o,s,i,a)=>Math.random()<t?`.
${s.toUpperCase()}`:`. ${s.toUpperCase()}`),n.charAt(0).toUpperCase()+n.slice(1)}async loadJSON(e){return await(await fetch(e)).json()}saveJSON(e,t){const n=document.createElement("a");n.href=URL.createObjectURL(new Blob([JSON.stringify(e,null,2)],{type:"application/json"})),n.setAttribute("download",`${t.includes(".json")?t:t+".json"}`),document.body.appendChild(n),n.click(),document.body.removeChild(n)}testScenes(e){const t=e||this.scenes;if(!t){const l=this.lang==="es"?"No hay escenas para probar":"There are not scenes to test";console.error(l)}let n=[];for(let l of Object.keys(t)){const o=t[l];if(o.options||o.opciones){const i=(o.options||o.opciones).filter(a=>!t[a.scene||a.escena]);n=[...n,...i.map(a=>`${l} => ${a.btn} => ${a.scene||a.escena}`)]}else{if(o.deadEnd||o.sinSalida)continue;t[o.scene||o.escena]||n.push(`${l} => ${o.scene||o.escena}`)}}if(n.length>0){const l=this.lang==="es"?`Las siguientes escenas no llevan a ning\xFAn lado: ${n.join(", ")}`:`The following scenes are dead ends: ${n.join(", ")}`;console.error(l),this.scenesError=!0}return this}testGrammar(e){const t=e||this.grammar;if(!t){const n=this.lang==="es"?"No hay gram\xE1tica para probar":"There is not grammar to test";console.error(n)}for(let n of Object.keys(t)){const l=t[n];for(let o of l){const s=o.match(/<([\w\d]+)>/gi),i=s?s.map(f=>f.replace(/[<>]/g,"")):[],a=o.match(/\$[\w\d]+\$\[([\w\d.,:]+)\]/gi),c=a?a.map(f=>f.match(/([ ]?:[\w\d]+)/g).map(d=>/[ ]?:(?<key>[\w\d]+)/.exec(d).groups.key)).reduce((f,d)=>[...f,...d],[]):[],u=[...i,...c].filter(f=>!t[f]);if(u.length>0){const f=this.lang==="es"?`Las siguientes reglas, que se referencian en "${n}", no existen: ${u.join(", ")}`:`The following rules, referenced in "${n}", do not exist: ${u.join(", ")}`;this.grammarError=!0,console.error(f)}}}return this}testDistribution(e){const t=e||this.markov;if(t===void 0){const c=this.lang==="es"?"No hay modelo Markov para probar":"There is not Markov model to test";console.error(c)}const n={},l={};let o=0;const s=Object.values(t);for(let c of s)for(let u of c.probs){const f=(Math.round(u/.05)*.05).toFixed(2);l[o]=f,o++,n[f]===void 0?n[f]=1:n[f]++}console.log("------------------------------------ DIST ------------------------------------");const i=Math.max(...Object.values(n)),a=Object.entries(n).sort((c,u)=>c[0]>u[0]?1:c[0]<u[0]?-1:0);for(let c of a)console.log(`${c[0]}... ${"|".repeat(Math.ceil(c[1]*100/i))}`);return console.log("------------------------------------ DIST ------------------------------------"),this}async showIgrama(e,t="png",n){const l=await this.igramaDataUrl(e,t),o=new Image;o.src=l,n==null?document.body.appendChild(o):document.getElementById(n).appendChild(o)}async igramaDataUrl(e,t="png"){const n=this.igrama.metadata.width,l=this.igrama.metadata.height;let o=document.createElement("canvas");o.width=n,o.height=l;const s=o.getContext("2d");s.lineJoin="round",s.lineCap="round",s.fillStyle=this.igrama.metadata.bg||"#FFFFFF",s.fillRect(0,0,n,l),await this.drawLayers(e,s);let i;if(t==="png")i=o.toDataURL();else if(t==="gif"){if(typeof MiniGif>"u")return console.error(this.lang==="es"?"Para crear Gifs debes tener tambi\xE9n la librer\xEDa MiniGif":"To create Gifs you must have also the MiniGif library"),"";const a={colorResolution:7,dither:!1,delay:50};Object.assign(a,this.minigifOptions);const c=new MiniGif(a);c.addFrame(o);const u=this.getLayerWiggle(e);s.fillStyle=this.igrama.metadata.bg||"#FFFFFF",s.fillRect(0,0,n,l),await this.drawLayers(u,s),c.addFrame(o);const f=c.makeGif(),d=await this.base64_arraybuffer(f);i="data:image/gif;base64,"+d}return o.remove(),i}async base64_arraybuffer(e){return(await new Promise(n=>{const l=new FileReader;l.onload=()=>n(l.result),l.readAsDataURL(new Blob([e]))})).split(",",2)[1]}getLayerWiggle(e){const n=JSON.parse(JSON.stringify(e)),l=(o,s)=>Math.floor(o+Math.random()*(s-o));for(let[o,s]of n.entries())if(s.type==="vector")for(let[i,a]of s.content.entries()){for(let[c,u]of a.entries())Math.random()<.5?u[0]+=l(-3,3):u[1]+=l(-3,3);a.color=e[o].content[i].color,a.weight=e[o].content[i].weight}return n}getIgramaText(e){return e.map(n=>n.attribute).reverse().join(" ").trim()}async drawLayers(e,t){for(let[n,l]of e.entries())if(l.type==="url"){const{w:o,h:s,x:i,y:a}=this.igrama.sections[n];if(this.imgsMemo[l.content]===void 0){const c=new Image;c.src=l.content,this.imgsMemo[l.content]=await new Promise(u=>{c.addEventListener("load",()=>{u(c)},!1)})}t.drawImage(this.imgsMemo[l.content],i,a,o,s)}else if(l.type=="vector")for(let o of l.content){if(o.length===0)continue;const s=this.getSpline(o);this.drawSpline(s,t,o.color,o.weight)}}drawSpline(e,t,n,l){t.lineWidth=l,t.strokeStyle=n,t.fillStyle="rgba(0,0,0,0)",t.beginPath();for(let o=0;o<e.length;o++)o===0?t.moveTo(...e[0]):t.lineTo(...e[o]);t.stroke()}getSpline(e){let t=[];for(let n=0;n<e.length-1;n++){const l=[];l[0]=n>0?e[n-1]:e[0],l[1]=e[n],l[2]=e[n+1],l[3]=n<e.length-2?e[n+2]:e[e.length-1];for(let o=0;o<1;o+=.05){const s=this.getSplinePoint(o,l);t.push(s)}}return t}getSplinePoint(e,t){const n=Math.floor(e)+1,l=n+1,o=l+1,s=n-1,i=e*e,a=i*e,c=-a+2*i-e,u=3*a-5*i+2,f=-3*a+4*i+e,d=a-i,p=.5*(t[s][0]*c+t[n][0]*u+t[l][0]*f+t[o][0]*d),m=.5*(t[s][1]*c+t[n][1]*u+t[l][1]*f+t[o][1]*d);return[p,m]}setCSS(){const e=document.createElement("style");e.id="adventurestyle",e.innerHTML=Tn,document.getElementsByTagName("head")[0].appendChild(e)}}
  </script>
  <script>
    const scenes = {"Inicio":{"text":"John entra a una cafetería en el centro de Bogotá por primera vez en su vida. Tiene frío, quiere beber algo y confía en su español básico, pero cuando la mesera lo atiende, se da cuenta de que tiene más opciones de las que creía:\n\nLe dice doña Gladys: Buenos días, sumercé tiene cara de no ser de por aquí. ¿Qué le traigo?","display":{"x":488,"y":237,"ops":[{"x":6,"y":290,"rewiring":false},{"x":68,"y":290,"rewiring":false},{"x":117,"y":290,"rewiring":false},{"x":197,"y":290,"rewiring":false}],"areas":[]},"options":[{"btn":"Un café ","scene":"rta1"},{"btn":"Hay té","scene":"rta2"},{"btn":"Aguaepanela","scene":"rta3"},{"btn":"Chocolate","scene":"rta4"}],"image":"https://cloudfront-us-east-1.images.arcpublishing.com/semana/7NMS2NSSGRBKNAJTXM3XMU4TFU.jpg","key":"Inicio"},"rta1":{"text":"","display":{"x":243,"y":337,"ops":[{"x":6,"y":173,"rewiring":false},{"x":86,"y":173,"rewiring":false}],"areas":[]},"image":"https://imagenes.elpais.com/resizer/N4im8c370VoD7WieWeqSQ2u-uMk=/1960x1103/ep01.epimg.net/internacional/imagenes/2019/01/10/mundo_global/1547127673_520199_1547141181_noticia_fotograma.jpg","options":[{"btn":"¿Con leche?","scene":"rta1a"},{"btn":"¿Solito?","scene":"rta1b"}],"key":"rta1"},"rta2":{"text":"Té","display":{"x":833,"y":604,"ops":[{"x":6,"y":231,"rewiring":false},{"x":86,"y":231,"rewiring":false}],"areas":[]},"image":"https://i.gifer.com/2H0o.gif","options":[{"btn":"¿Con leche?","scene":"rta2a1"},{"btn":"¿Solito?","scene":"rta2a2"}],"key":"rta2"},"rta3":{"text":"Aguaepanela!","display":{"x":1144,"y":636,"ops":[{"x":6,"y":185,"rewiring":false},{"x":196,"y":185,"rewiring":false},{"x":264,"y":185,"rewiring":false}],"areas":[]},"image":"https://cdn.colombia.com/gastronomia/2011/08/02/agua-de-panela-1595-1.gif","options":[{"btn":"Solita pero con algo de comer","scene":"Amasijos_variadosa_la_orden"},{"btn":"Con leche","scene":"rta3b"},{"btn":"Con aguardiente!","scene":"rta3c"}],"key":"rta3"},"rta1a":{"text":"Ah, eso es un perico!..pero viene servido en un pocillo chiquito.¿Quería más?","display":{"x":26,"y":677,"ops":[{"x":6,"y":136,"rewiring":false},{"x":37,"y":136,"rewiring":false}],"areas":[]},"options":[{"btn":"Sí!","scene":"rta1a1"},{"btn":"No, así está bien."}],"key":"rta1a"},"rta1b":{"text":"Eso se llama tinto y por lo general se sirve en un vaso pequeño. ¿Quiere hartico?","display":{"x":376,"y":675,"ops":[{"x":6,"y":136,"rewiring":false},{"x":37,"y":136,"rewiring":false}],"areas":[]},"options":[{"btn":"Sí!","scene":"rta1b1"},{"btn":"No, poquito está bueno para probarlo","scene":"Amasijos_variadosa_la_orden"}],"key":"rta1b"},"rta1a1":{"text":"En ese caso, es mejor pedir un café CON leche. Ahora, ¿Lo va a acompañar con algo?","display":{"x":33,"y":906,"ops":[{"x":6,"y":136,"rewiring":false},{"x":147,"y":136,"rewiring":false}],"areas":[]},"options":[{"btn":"¿Como qué podría ser?","scene":"Amasijos_variadosa_la_orden"},{"btn":"No, tal vez quiero otra cosa...","scene":"Inicio"}],"key":"rta1a1"},"rta4":{"text":"Chocolate","display":{"x":1575,"y":546,"ops":[{"x":6,"y":231,"rewiring":false},{"x":141,"y":231,"rewiring":false,"prevWiring":"Inicio"}],"areas":[]},"image":"data:image/jpeg;base64,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","key":"rta4","options":[{"btn":"Solo o como se debe?","scene":"Amasijos_variadosa_la_orden"},{"btn":"mejor otra cosa...","scene":"Inicio"}]},"rta1b1":{"text":"Entonces lo que quiere es un tinto doble. O un tinto grande, también decimos.","display":{"x":425,"y":907,"ops":[{"x":6,"y":136,"rewiring":false}],"areas":[]},"key":"rta1b1","options":[{"btn":"Lo va a acompañar con algo?","scene":"Amasijos_variadosa_la_orden"}]},"Amasijos_variadosa_la_orden":{"text":"Si va a comer alguito diríjase por favor al otro árbol de decisiones ;)","display":{"x":510,"y":1207,"ops":[{"x":6,"y":108,"rewiring":false}],"areas":[]},"options":[{"btn":"Y de tomar qué había?","scene":"Inicio"}],"key":"Amasijos_variadosa_la_orden"},"rta2a1":{"text":"Bueno, mi lord! Aunque también hay aromática...","display":{"x":764,"y":928,"ops":[{"x":6,"y":122,"rewiring":false},{"x":251,"y":122,"rewiring":false}],"areas":[]},"options":[{"btn":"No, así está bien. Qué hay para comer?","scene":"Amasijos_variadosa_la_orden"},{"btn":"Cómo así aromática?","scene":"rta2a1a"}],"key":"rta2a1"},"rta2a2":{"text":"Bueno. Hay té negro, te verde y te de coca.","display":{"x":1229,"y":1010,"ops":[{"x":6,"y":122,"rewiring":false},{"x":275,"y":122,"rewiring":false}],"areas":[]},"options":[{"btn":"Cualquiera está bien. Pero tengo hambre...","scene":"Amasijos_variadosa_la_orden"},{"btn":"Seguro que no quiere más bien una aromática?","scene":"rta2a1a"}],"key":"rta2a2"},"rta2a1a":{"text":"Sí, como un agüita pero con una tisana. Aunque también hay de frutas.","display":{"x":1014,"y":1166,"ops":[{"x":6,"y":199,"rewiring":false}],"areas":[]},"image":"https://www.tuhogar.com/content/dam/cp-sites/home-care/tu-hogar/es_co/estilo-de-vida/vida-saludable/los-beneficios-de-tener-aromaticas-en-casa/destac-home.jpg","options":[{"btn":"Bueno, una de frutas. y para comer...","scene":"Amasijos_variadosa_la_orden"}],"key":"rta2a1a"},"rta3b":{"text":"Claro, lo que llamamos un tetero!","display":{"x":1227,"y":870,"ops":[{"x":6,"y":122,"rewiring":false}],"areas":[]},"options":[{"btn":"bueno, con alguito para comer","scene":"Amasijos_variadosa_la_orden"}],"key":"rta3b"},"rta3c":{"text":"Puede ser con aguardiente y canela, lo que llamamos un canelazo!","display":{"x":1513,"y":867,"ops":[{"x":6,"y":136,"rewiring":false}],"areas":[]},"options":[{"btn":"Más bien algo más suave, que está muy temprano...","scene":"Inicio"}],"key":"rta3c"}};
    const aventura = new A(lang, options);
    aventura.setScenes(scenes).startAdventure('Inicio');
  </script>
</html>
